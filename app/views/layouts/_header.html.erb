<nav class="navbar navbar-expand-sm bg-dark">
  <div class="container-fluid">
    <% if user_signed_in? %>
      <a class="navbar-brand fw-bold text-info " href="/">Welcome, <%= current_user.username %></a>

      <ul class="navbar-nav"> 
        <li class="nav-item">
          <%= link_to "Create Post", new_post_path,
                class: "nav-link text-light me-2" %>
        </li>
        <li class="nav-item">
          <a class="nav-link text-light" href="/users">
            Discover Users
          </a>
        </li>
        <li class="nav-item">
          <%= link_to user_notifications_path(current_user.id), class: "nav-link text-light" do %> 
            Notifications<span class="badge"><ion-icon name="notifications" class="text-light"></ion-icon>
              <span class="bg-danger"><%= current_user.new_notifications.count if current_user.new_notifications.any? %></span> </span>  
          <% end %>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <%= current_user.username%>
          </a>
          <ul class="dropdown-menu" style="min-width:60px">
            <p class="px-3 pt-2 mt-n1 d-block mb-0" style="text-decoration: none">
              Welcome, <span class="fw-bold"><%= current_user.username.titleize %></span>!
            </p>
            <li><hr class="dropdown-divider"></li>
            <li><%= link_to "Your Profile", user_path(current_user.id),
                    class: "dropdown-item" %></li>
            <li><%= link_to "Settings", edit_user_registration_path,
                    class: "dropdown-item" %></li>
          </ul>
        </li>

        <%= button_to 'Logout', destroy_user_session_path, 
            class: "btn btn-light", method: :delete, data: { turbo: false } %> 
      </ul>
    <% else %>  
      <a class="navbar-brand fs-4 fw-bold text-light" href="/">Friend Book</a>
    <% end %> 
  </div>
</nav>