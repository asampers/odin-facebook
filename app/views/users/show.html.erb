<div class="row m-3 text-center">
  <div class="profile-header rounded-top border border-bottom-0">  
    <% if @user.profile.nil? || @user.profile.full_name.empty? %> 
      <h1 class="display-1"> <%= @user.username %> </h1>
    <% else %>
      <h1 class="display-1"> <%= @user.profile.full_name %> </h1>
      <h3> <%= @user.username %> </h3>
    <% end %>
    <div class="d-flex justify-content-center align-content-center">
      <div class="col">
        <p class="pe-2 float-end text-secondary border-end border-dark"> <%= pluralize(@user.active_friend_count, "Friend") %> </p>
      </div>
      <div class="col">
        <p class="ps-2 float-start text-secondary"> <%= pluralize(@user.posts.count, "Post") %> </p>  
      </div>
    </div>
  </div>  
  <div class="profile-header border-start border-end rounded-bottom container">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <a class="nav-link active" data-bs-toggle="tab" href="#posts">Posts</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-bs-toggle="tab" href="#friends">Friends</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-bs-toggle="tab" href="#about">About</a>
      </li>
    </ul>
  </div>  
</div>

<div class="tab-content">
  <div class="tab-pane container active" id="posts">
    <%= render @user.posts %>
  </div>
  <div class="tab-pane container fade" id="friends">
    <% if @user.friends.any? %>
      <%= render 'friendships/friend_index', user: @user %>  
    <% else %>
      <%= render "no_friends", user: @user %> 
    <% end %>    
  </div>
  <div class="tab-pane container fade" id="about"> 
    <%= turbo_frame_tag "about" do %>
      <% if notice %>
        <div class="alert alert-success alert-dismissible"><%= notice %>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
      <% end %>
      <%= render @user.profile || "profiles/empty" %>
    <% end %>
  </div>
</div>





